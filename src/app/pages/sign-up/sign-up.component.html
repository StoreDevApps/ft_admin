<img src="../../../assets/login/login_background.webp" alt="" class="imagen-login">
@if (loading) {
    <app-loading></app-loading>
}
<div class="container-page">
    <div class="login-card container">
        <img src="../../../assets/icon_store.png" alt="" class="mb-3 px-7 img-logo w-50">
        <div class="container-input">
            <h1 class="text-center">Registro</h1>

            <form #form="ngForm">
                <div class="row">
                    <div class="mb-3 col-12 col-sm-6">
                        <label for="FormControlInput1" class="form-label">Nombre:</label>
                        <input type="text" class="form-control" id="FormControlInput1" placeholder="Nombre ejemplo"
                            [(ngModel)]="nombre" [ngModelOptions]="{standalone: true}">
                        @if(errorNombre){
                        <div class="text-danger">
                            {{textErrorNombre}}
                        </div>
                        }
                    </div>
                    <div class="mb-3 col-12 col-sm-6">
                        <label for="FormControlInput2" class="form-label">Apellido:</label>
                        <input type="text" class="form-control" id="FormControlInput2" placeholder="Apellid ejemplo"
                            [(ngModel)]="apellido" [ngModelOptions]="{standalone: true}">
                        @if(errorApellido){
                        <div class="text-danger">
                            {{textErrorApellido}}
                        </div>
                        }
                    </div>

                </div>
                <div class="row">
                    <div class="mb-3 col-12 col-sm-6">
                        <label for="FormControlInput3" class="form-label">Correo:</label>
                        <input type="email" class="form-control" id="FormControlInput3"
                            placeholder="email@example.com" [(ngModel)]="correo"
                            [ngModelOptions]="{standalone: true}">
                        @if(errorCorreo){
                        <div class="text-danger">
                            {{textErrorCorreo}}
                        </div>
                        }
                    </div>
                    <div class="mb-3 col-12 col-sm-6">
                        <label for="password1" class="form-label">Contraseña</label>
                        <input type="password" class="form-control" id="password1" name="password1" required
                            [(ngModel)]="password1" [ngModelOptions]="{standalone: true}">
                        @if(errorPassword1){
                        <div class="text-danger">
                            {{textErrorPassword1}}
                        </div>
                        }
                    </div>

                </div>
                <div class="row">
                    <div class="mb-3 col-12 col-sm-6">
                        <label for="FormControlInput4" class="form-label">Telefóno:</label>
                        <input type="tel" class="form-control" id="FormControlInput4" placeholder="1234567890"
                            [(ngModel)]="telefono" [ngModelOptions]="{standalone: true}">
                        @if(errorTelefono){
                        <div class="text-danger">
                            {{textErrorTelefono}}
                        </div>
                        }
                    </div>

                    <div class="mb-3 col-12 col-sm-6">
                        <label for="password2" class="form-label">Confirmar Contraseña</label>
                        <input type="password" class="form-control" id="password2" name="password2" required
                            [(ngModel)]="password2" [ngModelOptions]="{standalone: true}">
                        @if(errorPassword2){
                        <div class="text-danger">
                            {{textErrorPassword2}}
                        </div>
                        }
                    </div>
                </div>
            </form>
            <div class="mb-3 text-center">
                <button class="btn btn-login" (click)="submitForm()">Registrarse</button>
            </div>
            @if (error){
            <div class="alert alert-danger mb-3" role="alert">
                {{textError}}
            </div>
            } @else if (success) {
                <div class="alert alert-success mb-3" role="alert">
                    Usuario creado con exito. Redirigiendo hacia el login...
                </div>
            }
        </div>
    </div>
</div>